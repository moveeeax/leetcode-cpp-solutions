# **[Number of Subarrays With LCM Equal to K](https://leetcode.com/problems/number-of-subarrays-with-lcm-equal-to-k/description/)**  

## **1Ô∏è‚É£ Problem Understanding**  
### **üìå Intuition**  
The problem requires us to find the number of contiguous subarrays within a given array `nums`, such that the least common multiple (LCM) of the elements in each subarray is equal to a specified integer `k`. Subarrays can be generated by selecting continuous sequences from the array, and we need a systematic way to determine their LCM efficiently.

### **üöÄ Approach**  
To tackle this problem, we will iterate over the array using a two-pointer technique or a sliding window approach. The basic idea is to maintain a current LCM value as we extend our window by including elements. The steps involved are:

1. Start with initializing two pointers (left and right) at the beginning of the array and a variable to hold the current LCM.
2. Expand the right pointer to include elements in the current subarray.
3. For each new element added to the subarray, compute the new LCM.
4. If at any point the current LCM exceeds `k`, we should move the left pointer to reduce the size of the subarray until the LCM is less than or equal to `k`.
5. Whenever the LCM equals `k`, count all possible subarrays that can be formed with the current position of the left pointer as the start.
6. Repeat until the right pointer has traversed all elements of the array.

This method reduces unnecessary computations that would arise from checking every possible subarray individually.

### **‚è±Ô∏è Complexity Analysis**  
- **Time Complexity**: O(n), as we traverse each element in the array roughly twice (once by the right pointer and potentially once by the left pointer).
- **Space Complexity**: O(1), since we are using a constant amount of extra space for variables.

---  

## **2Ô∏è‚É£ LeetCode Submission**  
```cpp
class Solution {
public:
    int subarrayLCM(vector<int>& nums, int k) {
        int count = 0;
        int n = nums.size();
        
        for (int left = 0; left < n; left++) {
            long long currentLCM = 1;
            for (int right = left; right < n; right++) {
                // Calculate the LCM for the current range [left, right]
                currentLCM = lcm(currentLCM, nums[right]);
                // If LCM exceeds k, break the inner loop.
                if (currentLCM > k) {
                    break;
                }
                // Check if we've matched the required LCM
                if (currentLCM == k) {
                    count++;
                }
            }
        }
        return count;
    }
};
```  

---  

## **3Ô∏è‚É£ Running Locally**  
### **‚úÖ Steps**  
1. **Create a file**: `number_of_subarrays_with_lcm_equal_to_k.cpp`  
2. **Wrap the `Solution` class** inside `main()`  
3. **Include necessary headers**  
4. **Handle input/output for local execution**  
5. **Compile and run the program**  

---  

## **üìù Full Working Code (Local Execution)**  
```cpp
#include <iostream>
#include <vector>
#include <numeric> // For std::lcm

using namespace std;

class Solution {
public:
    int subarrayLCM(vector<int>& nums, int k) {
        int count = 0;
        int n = nums.size();
        
        for (int left = 0; left < n; left++) {
            long long currentLCM = 1;
            for (int right = left; right < n; right++) {
                // Calculate the LCM for the current range [left, right]
                currentLCM = lcm(currentLCM, nums[right]);
                // If LCM exceeds k, break the inner loop.
                if (currentLCM > k) {
                    break;
                }
                // Check if we've matched the required LCM
                if (currentLCM == k) {
                    count++;
                }
            }
        }
        return count;
    }
};

int main() {
    Solution solution;
    vector<int> nums = {3, 6, 2, 4, 5};
    int k = 12;
    cout << solution.subarrayLCM(nums, k) << endl; // Expected output: 4
    return 0;
}
```  

---  

## **üîß Compilation & Execution**  
#### **1Ô∏è‚É£ Compile**  
```bash
g++ -std=c++17 number_of_subarrays_with_lcm_equal_to_k.cpp -o number_of_subarrays_with_lcm_equal_to_k
```  

#### **2Ô∏è‚É£ Run**  
```bash
./number_of_subarrays_with_lcm_equal_to_k
```  

---  

## **üéØ Example Run**  
### **Input**  
```
[3, 6, 2, 4, 5], 12
```  
### **Output**  
```
4
```  

---  

## **üìå Summary**  
‚úÖ **Encapsulates LeetCode solution inside `main()`**  
‚úÖ **Handles input/output for local testing**  
‚úÖ **Compiles with `g++ -std=c++17`**  
‚úÖ **Provides structured and formatted execution steps**  

üöÄ **Now you can seamlessly test LeetCode C++ solutions locally!** üöÄ// update on 2024-11-24
// update on 2024-12-14
// update on 2025-01-01
